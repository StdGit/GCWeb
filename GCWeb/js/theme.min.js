/*!
 * Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 * v6.0.0-development - 2019-10-30
 *
 */
!function(h,b,m){"use strict";function d(e,t,r){var a,n,i;for(a=r[t];n=a.shift();)(i=n.action)&&(e.trigger(i+"."+f,n),delete n.action)}var e=b.doc,p="wb-actionmng",s="."+p,t="[data-"+p+"]",c=p+"Rn",f=p+s,g={},v={},y={},r=["mapfilter","tocsv","patch","ajax","addClass","removeClass","tblfilter","run"].join("."+f+" ")+"."+f,w=function(e,t,r){t[e]||(t[e]=[]),t[e].push(r)};e.on("do."+f,function(e){var t,r,a,n,i,o,l,s=e.element||e.target,c=s.id,u=e.actions||[];if((s===e.target||e.currentTarget===e.target)&&-1===s.className.indexOf(p)){for(h.isArray(u)||(u=[u]),(a=u.length)&&(t=h(s)).addClass(p),c&&g[c]&&d(t,c,g),r=0;r!==a;r+=1)(i=(n=u[r]).action)&&((o=n.target)?(n.trgbefore?w(o,g,n):w(o,v,n),(l=n.trggroup)&&w(l,y,n)):t.trigger(i+"."+f,n));c&&v[c]&&d(t,c,v),h(e.target).removeClass(p)}}),e.on("clean."+f,function(e){var t,r,a=e.element||e.target,n=e.trggroup;if((a===e.target||e.currentTarget===e.target)&&n&&y[n])for(t=y[n];r=t.shift();)delete r.action}),e.on(r,s,function(e,t){var r=e.type;if(f===e.namespace)switch(r){case"run":!function(e,t){var r,a,n,i,o=e.target,l=h(o),s=y[t.trggroup];if(s&&!l.hasClass(c)){for(l.addClass(c),a=s.length,r=0;r!==a;r+=1)(i=(n=s[r]).action)&&l.trigger(i+"."+f,n);l.removeClass(c)}}(e,t);break;case"tblfilter":!function(e,t){var r=e.target,a=h(t.source||r),n=t.column,i=parseInt(n,10),o=!!t.regex,l=!t.smart||!!t.smart,s=!t.caseinsen||!!t.caseinsen;if("TABLE"!==a.get(0).nodeName)throw"Table filtering can only applied on table";n=!0===i?i:n,a.dataTable({retrieve:!0}).api().column(n).search(t.value,o,l,s).draw()}(e,t);break;case"addClass":!function(e,t){var r=h(t.source||e.target);t.class&&r.addClass(t.class)}(e,t);break;case"removeClass":!function(e,t){var r=h(t.source||e.target);t.class&&r.removeClass(t.class)}(e,t);break;case"ajax":!function(e,t){var r,a,n;t.container?r=h(t.container):(a=b.getId(),r=h("<div id='"+a+"'></div>"),h(e.target).after(r)),t.trigger&&r.attr("data-trigger-wet","true"),n=t.type?t.type:"replace",r.attr("data-ajax-"+n,t.url),r.one("wb-contentupdated",function(e,t){var r=e.currentTarget,a=r.getAttribute("data-trigger-wet");r.removeAttribute("data-ajax-"+t["ajax-type"]),a&&(h(r).find(b.allSelectors).addClass("wb-init").filter(":not(#"+r.id+" .wb-init .wb-init)").trigger("timerpoke.wb"),r.removeAttribute("data-trigger-wet"))}),r.trigger("wb-update.wb-data-ajax")}(e,t);break;case"patch":!function(e,t){var r=t.source,a=t.patches,n=!!t.cumulative;a&&(h.isArray(a)||(a=[a]),h(r).trigger({type:"patches.wb-jsonmanager",patches:a,fpath:t.fpath,filter:t.filter||[],filternot:t.filternot||[],cumulative:n}))}(0,t);break;case"mapfilter":!function(e,t){var r=h(t.source||e.target).get(0).geomap,a=t.filter,n=t.value;"aoi"===a&&r.zoomAOI(n),"layer"===a&&r.showLayer(n,!0)}(e,t);break;case"tocsv":!function(e,t){var r,a,n,i=h(e),o=i.get(0),l=o.classList.contains("wb-tables"),s="",c=t||(o.caption||"table")+".csv",u=o.rows,d=u.length,p=u[0].cells.length;if(l){for(d=(n=i.dataTable({retrieve:!0}).api()).rows()[0].length,a=0;a<p;a+=1)f=(f=u[0].cells[a].textContent).replace(/\"/g,'""'),s=a?s+',"'+f+'"':s+'"'+f+'"';s+="\n"}for(r=0;r<d;r+=1){for(a=0;a<p;a+=1){var f;if(l){if(-1!==(f=n.cell(r,a,{page:"all"}).data()).indexOf("<")){var g=m.createElement("div");g.innerHTML=f,f=g.textContent}}else f=u[r].cells[a].textContent;f=f.replace(/\"/g,'""'),f+='"',s=a?s+',"'+f:s+'"'+f}s+="\n"}b.download(new Blob([s],{type:"text/plain;charset=utf-8"}),c)}(t.source,t.filename)}}),e.on("timerpoke.wb wb-init.wb-actionmng",t,function(e){var t,r,a,n,i,o,l=b.init(e,p,s);if(l){if(t=h(l),r=b.getData(t,p))for(h.isArray(r)||(r=[r]),n=r.length,a=0;a!==n;a+=1)(o=(i=r[a]).trggroup)&&i.action&&w(o,y,i);b.ready(t,p)}}),b.add(t)}(jQuery,wb,document),function(r,a){"use strict";var e=a.doc,n="wb-bgimg",i="[data-bgimg]";e.on("timerpoke.wb wb-init."+n,i,function(e){var t=a.init(e,n,i);t&&(t.style.backgroundImage="url("+t.dataset.bgimg+")",a.ready(r(t),n))}),a.add(i)}(jQuery,wb),function(S,c,A){"use strict";var e,p="wb-data-json",d="wb-json",t=["[data-json-after]","[data-json-append]","[data-json-before]","[data-json-prepend]","[data-json-replace]","[data-json-replacewith]","[data-"+d+"]"],f=["after","append","before","prepend","val"],g=/(href|src|data-*|pattern|min|max|step|low|high)/,h=/(checked|selected|disabled|required|readonly|multiple|hidden)/,r=t.length,b=t.join(","),m=p+"-queue",a=A.doc,v=function(e,t,r,a,n){var i,o=S(e),l={url:t,refId:r,nocache:a,nocachekey:n},s=c[p];!s||"http"!==t.substr(0,4)&&"//"!==t.substr(0,2)||(i=A.getUrlParts(t),A.pageUrlParts.protocol===i.protocol&&A.pageUrlParts.host===i.host||Modernizr.cors&&!s.forceCorsFallback||"function"==typeof s.corsFallback&&(l.dataType="jsonp",l.jsonp="callback",l=s.corsFallback(l))),o.trigger({type:"json-fetch.wb",fetch:l})},E=function(e,t,r){var a,n,i,o,l,s,c,u,d,p,f,g,h,b=t.mapping||[{}],m=t.filter||[],v=t.filternot||[],y=t.queryall,w=t.tobeclone,j=e.className,x=e,k=t.source?document.querySelector(t.source):e.querySelector("template");if(S.isArray(r)||(r="object"!=typeof r?[r]:S.map(r,function(e,t){return"object"!=typeof e||S.isArray(e)?e={"@id":t,"@value":e}:e["@id"]||(e["@id"]=t),[e]})),i=r.length,S.isArray(b)||(b=[b]),a=b.length,"TABLE"===e.tagName&&b&&-1!==j.indexOf("wb-tables-inited")&&"string"==typeof b[0]){for(h=S(e).dataTable({retrieve:!0}).api(),n=0;n<i;n+=1)if(o=r[n],C(o,m,v)){for(u="/"+n,g=[],l=0;l<a;l+=1)g.push(jsonpointer.get(r,u+b[l]));h.row.add(g)}h.draw()}else if(k)for(k.content||A.tmplPolyfill(k),t.appendto&&(x=S(t.appendto).get(0)),n=0;n<i;n+=1)if(o=r[n],C(o,m,v)){for(u="/"+n,d=w?k.content.querySelector(w).cloneNode(!0):k.content.cloneNode(!0),y&&(p=d.querySelectorAll(y)),l=0;l<a||0===l;l+=1)s=b[l],f=p?p[l]:s.selector?d.querySelector(s.selector):d,(c=s.attr)&&(f.hasAttribute(c)||f.setAttribute(c,""),f=f.getAttributeNode(c)),g="string"==typeof o?o:"string"==typeof s?jsonpointer.get(r,u+s):jsonpointer.get(r,u+s.value),s.placeholder&&(g=(f.textContent||"").replace(s.placeholder,g)),S.isArray(g)?E(f,s,g):s.isHTML?f.innerHTML=g:f.textContent=g;x.appendChild(d)}},C=function(e,t,r){var a,n,i,o=t.length,l=r.length,s=!1;if(o||l){for(a=0;a<o;a+=1)if(n=t[a],i=u(jsonpointer.get(e,n.path),n.value),n.optional)s=s||i;else{if(!i)return!1;s=!0}if(o&&!s)return!1;for(a=0;a<l;a+=1)if(n=r[a],(i=u(jsonpointer.get(e,n.path),n.value))&&!n.optional||i&&n.optional)return!1}return!0},u=function(e,t){switch(typeof e){case"undefined":return!1;case"boolean":case"string":case"number":return e===t;case"object":if(null===e)return null===t;if(S.isArray(e)){if(S.isArray(t)||e.length!==t.length)return!1;for(var r=0,a=e.length;r<a;r++)if(!u(e[r],t[r]))return!1;return!0}var n=i(t).length;if(i(e).length!==n)return!1;for(r=0;r<n;r++)if(!u(e[r],t[r]))return!1;return!0;default:return!1}},i=function(e){if(S.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t};a.on("json-failed.wb",b,function(){throw"Bad JSON Fetched from url in "+p}),Modernizr.load({test:"content"in document.createElement("template"),nope:"site!deps/template"+A.getMode()+".js"}),a.on("timerpoke.wb wb-init.wb-data-json wb-update.wb-data-json json-fetched.wb",b,function(e){if(e.currentTarget===e.target)switch(e.type){case"timerpoke":case"wb-init":!function(e){var t,r=A.init(e,p,b);if(r){var a,n,i,o,l,s=["before","replace","replacewith","after","append","prepend"],c=s.length,u=[];for(t=S(r),i=0;i!==c;i+=1)a=s[i],null!==(l=r.getAttribute("data-json-"+a))&&u.push({type:a,url:l});if(A.ready(t,p),(n=A.getData(t,d))&&n.url)u.push(n);else if(n&&S.isArray(n))for(c=n.length,i=0;i!==c;i+=1)u.push(n[i]);for(t.data(m,u),c=u.length,i=0;i!==c;i+=1)o=u[i],v(r,o.url,i,o.nocache,o.nocachekey)}}(e);break;case"wb-update":!function(e){var t=e.target,r=S(t),a=r.data(m),n=a.length,i=e["wb-json"];if(!i.url||!i.type&&!i.source)throw"Data JSON update not configured properly";a.push(i),r.data(m,a),v(t,i.url,n)}(e);break;default:!function(e){var t,r=e.target,a=S(r),n=a.data(m),i=e.fetch,o=n[i.refId],l=o.type,s=o.prop||o.attr,c=o.showempty,u=i.response,d=typeof u;if(c||"undefined"!=d){if(c&&"undefined"==d&&(u=""),t=jQuery.ajaxSettings.cache,jQuery.ajaxSettings.cache=!0,l)if("replace"===l)a.html(u);else if("replacewith"===l)a.replaceWith(u);else if("addclass"===l)a.addClass(u);else if("removeclass"===l)a.removeClass(u);else if("prop"===l&&s&&h.test(s))a.prop(s,u);else if("attr"===l&&s&&g.test(s))a.attr(s,u);else{if("function"!=typeof a[l]||-1===f.indexOf(l))throw p+" do not support type: "+l;a[l](u)}else l="template",E(r,o,u),o.trigger&&a.find(A.allSelectors).addClass("wb-init").filter(":not(#"+r.id+" .wb-init .wb-init)").trigger("timerpoke.wb");jQuery.ajaxSettings.cache=t,a.trigger("wb-contentupdated",{"json-type":l,content:u})}}(e)}return!0});for(e=0;e!==r;e+=1)A.add(t[e])}(jQuery,window,wb),function(r,n,a){"use strict";function i(e){if(!e.content){var t,r,a=e;for(t=a.childNodes,r=n.createDocumentFragment();t[0];)r.appendChild(t[0]);a.content=r}}var o="wb-template",l="template",e=a.doc;a.tmplPolyfill=i,e.on("timerpoke.wb wb-init.wb-template",l,function(e){var t=a.init(e,o,l);t&&(i(t),a.ready(r(t),o))}),a.add(l)}(jQuery,document,wb),function(a,e,n){"use strict";var i="wb-doaction",o="a[data-"+i+"],button[data-"+i+"]",l="do.wb-actionmng",s=n.doc;s.on("click",o,function(e){var t=e.target,r=a(t);if(e.currentTarget!==e.target&&(t=(r=r.parentsUntil("main",o))[0]),"BUTTON"===t.nodeName||"A"===t.nodeName)return n.isReady?r.trigger({type:l,actions:n.getData(r,i)}):s.one("wb-ready.wb",function(){r.trigger({type:l,actions:n.getData(r,i)})}),!1})}(jQuery,window,wb),function(O,I,T){"use strict";function a(e,t){var r=t.$selElm,a=t.name,n=t.value;a&&t.provEvt.setAttribute("name",a),n&&r.val(n),r.attr("data-"+o,o)}function n(e,t){var r=O(t.origin),a=O(e.target).data(K),n=t.toggle;n&&"string"==typeof n&&(n={selector:n}),n=O.extend({},n,a.toggle),r.addClass("wb-toggle"),r.trigger("toggle.wb-toggle",n),n.type="off",r.one(M,function(){r.addClass("wb-toggle"),r.trigger("toggle.wb-toggle",n),r.removeClass("wb-toggle")})}function i(e,t){var r,a,n,i,o,l,s,c,u=t.outputctnrid,d=t.actions,p=t.lblselector,f=!!t.required,g=!t.noreqlabel,h=t.items,b=e.target,m=O(b),v=t.source,y=m.data(K).i18n,w=t.attributes,j=T.getId(),x="<legend class='h5 ",k="</span>",S="<fieldset id='"+j+"' data-"+G+"='"+b.id+"' "+V+"='"+v.id+"' class='"+D+" mrgn-bttm-md'",A="",E=t.typeRadCheck,C=t.inline,q=U+j;if(w&&"object"==typeof w)for(i in w)w.hasOwnProperty(i)&&(S+=" "+i+"='"+w[i]+"'");for(r=O(S+"></fieldset>"),f&&g&&(x+=" required",k+=" <strong class='required'>("+y.required+")</strong>"),x+="'>",k+="</legend>",p?(a=O("<div>"+t.label+"</div>").find(p),r.append(x+a.html()+k).append(a.nextAll()),n=a.prevAll()):r.append(O(x+t.label+k)),i=0,o=h.length;i!==o;i+=1)if((c=h[i]).group)for(A+="<p>"+c.label+"</p>",s=c.group.length,l=0;l!==s;l+=1)A+=X(c.group[l],q,E,C,f);else A+=X(c,q,E,C,f);r.append(A),O("#"+u).append(r),n&&r.before(n),d&&0<d.length&&r.data(W,d),Y(m,F,j)}var N="wb-fieldflow",d="."+N,p=N+"-form",v=N+"-sub",D=N+"-init",e="."+D,U=N+T.getId(),P="[name^="+U+"]",y=N+"-label",h=N+"-header",t="."+p,r="wb-init"+d,R="draw"+d,Q="action"+d,z="submit"+d,B="submited"+d,f="ready"+d,M="clean"+d,J="reset"+d,L="createctrl"+d,F=N+"-register",$=N+"-hdnfld",K=N+"-config",W=N+"-push",H=N+"-submit",_=N+"-action",G=N+"-origin",V="data-"+N+"-source",o=N+"-flagoptvalue",l=T.doc,g={toggle:{stateOn:"visible",stateOff:"hidden"},i18n:{en:{btn:"Continue",defaultsel:"Make your selection...",required:"required"},fr:{btn:"Allez",defaultsel:"Sélectionnez dans la liste...",required:"obligatoire"}},action:"ajax",prop:"url"},s=[["redir","query","ajax","addClass","removeClass","removeClass","append","tblfilter","toggle"].join("."+Q+" ")+"."+Q,["ajax","toggle","redir","addClass","removeClass"].join("."+z+" ")+"."+z,["tblfilter",N].join("."+R+" ")+"."+R,["select","checkbox","radio"].join("."+L+" ")+"."+L].join(" "),Y=function(e,t,r,a){var n=e.data(t);return n&&!a||(n=[]),n.push(r),e.data(t,n)},w=function(e,t){var r,a,n,i,o,l,s,c,u,d,p,f,g,h=e.get(),b=h.length,m=[];for(r=0;r!==b;r+=1){if(o=null,n=i="",u=(a=h[r]).firstChild,s=(c=a.childNodes).length,!u)throw"You have a markup error, There may be an empyt <li> elements in your list.";for(g=[],"A"===u.nodeName&&(i=u.getAttribute("href"),n=O(u).html(),s=1,g.push({action:"redir",url:i})),l=1;l!==s;l+=1){if(d=c[l],(p=O(d)).hasClass(v)){f=d.id||T.getId(),d.id=f,i=N+"-"+f,g.push({action:"append",srctype:N,source:"#"+f});break}if("UL"===d.nodeName){if(t)throw"Recursive error, please check your code";o=w(p.children(),!0)}p.hasClass(y)&&(n=p.html())}n=n||u.nodeValue,a.id||(a.id=T.getId()),m.push({bind:a.id,label:n,actions:g,group:o})}return m},C=function(e){var t=e.label,r="<option value='"+t+"'";return r+=c(e),r+=">"+t+"</option>"},c=function(e){var t="",r={};return r.bind=e.bind||"",r.actions=e.actions||[],t+=" data-"+N+"='"+JSON.stringify(r)+"'"},X=function(e,t,r,a,n){var i=e.label,o=T.getId(),l=" for='"+o+"'><input id='"+o+"' type='"+r+"' name='"+t+"' value='"+i+"'";return l=a?"<label class='"+r+(a?"-inline":"")+"'"+l:"<div class='"+r+"'><label"+l,l+=c(e),n&&(l+=" required='required'"),l+=" /> "+i+"</label>",a||(l+="</div>"),l};l.on(J,d+", ."+v,function(e){var t,r,a,n,i,o,l,s=e.target,c=[];if(s===e.currentTarget&&(r=(t=O(s)).data(K))&&r.reset)for(a=r.reset,O.isArray(a)?c=a:c.push(a),i=c.length,n=0;n!==i;n+=1)(l=(o=c[n]).action)&&(!1!==o.live&&(o.live=!0),t.trigger(l+"."+Q,o))}),l.on("change",t+" "+e,function(e){var t,r,a,n,i,o,l,s,c=e.currentTarget,u=O(c),d=u.nextAll(),p=O("#"+c.getAttribute("data-"+G)),f=O("#"+c.getAttribute(V)),g=p.data(F),h=u.find(":checked",u),b=u.get(0).form;if(n=d.length){for(a=n;0!==a;a-=1)(l=d[a])&&(-1<(s=g.indexOf(l.id))&&g.splice(s,1),O("#"+l.getAttribute(V)).trigger(J).trigger(M),O(l).trigger(M));p.data(F,g),d.remove()}f.trigger(J).trigger(M),u.trigger(M),u.data(H,[]);var m,v,y,w,j,x,k,S,A,E=[],C=[],q=[];for(m=p.data(K),(v=f.data(K))&&m&&(m=O.extend({},m,v)),h.length&&h.val()&&m&&m.default&&(r=m.default,O.isArray(r)?E=r:E.push(r)),j=m.action,x=m.prop,_=m.actionData||{},(r=u.data(W))&&(E=E.concat(r)),a=0,n=h.length;a!==n;a+=1)if(t=h.get(a),(y=T.getData(t,N))&&(A=y.bind,E=E.concat(y.actions),A&&(w=I.getElementById(A).getAttribute("data-"+N)))){if(w.startsWith("{")||w.startsWith("[")){try{r=JSON.parse(w)}catch(e){O.error("Bad JSON object "+w)}O.isArray(r)||(r=[r])}else(r={}).action=j,r[x]=w,r=[r=O.extend(!0,{},_,r)];E=E.concat(r)}if(!E.length)return!0;for(a=0,n=E.length;a!==n;a+=1)(o=(i=E[a]).target)&&o!==A?q.push(i):C.push(i);for(k=m.base||{},S=q.length,a=0,n=C.length;a!==n;a+=1)(i=O.extend({},k,C[a])).origin=f.get(0),i.provEvt=c,i.$selElm=h,i.form=b,S&&(i.actions=q),p.trigger(i.action+"."+Q,i);return!0}),l.on("submit",t+" form",function(e){var t,r,a,n,i,o,l,s,c,u,d,p,f,g,h,b=e.currentTarget,m=O(b),v=m.data(F),y=m.data($)||[],w=v?v.length:0,j=[],x=[],k=!1;for(w&&(n=(a=O("#"+v[w-1])).data(F),O("#"+n[n.length-1]).trigger(M),a.trigger(M)),r=0;r!==w;r+=1)for(u=(i=(a=O("#"+v[r])).data(F)).length,c=0;c!==u;c+=1){if(o=O("#"+i[c]),l=O("#"+o.data(G)),x.push(l),s=l.data(K),!(g=o.data(H))&&s.defaultIfNone){for(d=0,p=(g=s.defaultIfNone).length;d!==p;d+=1)(f=g[d]).origin=l.get(0),f.$selElm=l.prev().find("input, select").eq(0),f.provEvt=f.$selElm.get(0),f.form=b,l.trigger(f.action+"."+Q,f);g=o.data(H)}if(g)for(d=0,p=g.length;d!==p;d+=1)(f=g[d]).form=b,a.trigger(f.action+"."+z,f),j.push({$elm:a,data:f}),k=k||f.preventSubmit,h=f.provEvt}if(!k){for(m.find(P).removeAttr("name"),w=y.length,r=0;r!==w;r+=1)O(y[r]).remove();var S,A,E,C,q,I;if(y=[],(S=m.attr("action"))&&0<(A=S.indexOf("?"))){for(w=(I=S.substring(A+1).split("&")).length,r=0;r!==w;r+=1)0<(C=E=I[r]).indexOf("=")&&(C=(q=E.split("=",2))[0],E=q[1]),t=O("<input type='hidden' name='"+C+"' value='"+E+"' />"),m.append(t),y.push(t.get(0));m.data($,y)}}for(w=x.length,r=0;r!==w;r+=1)(s=(l=x[r]).data(K)).action&&j.push({$elm:l,data:s});for(w=j.length,r=0;r!==w;r+=1)(f=j[r]).data.lastProvEvt=h,f.$elm.trigger(f.data.action+"."+B,f.data);if(k)return e.preventDefault(),e.stopPropagation?e.stopImmediatePropagation():e.cancelBubble=!0,!1}),l.on("keyup",t+" select",function(e){if(-1!==navigator.userAgent.indexOf("Gecko"))return e.keyCode&&(1===e.keyCode||9===e.keyCode||16===e.keyCode||e.altKey||e.ctrlKey)||O(e.target).trigger("change"),!0}),l.on(s,d,function(e,t){var r=e.type;switch(e.namespace){case R:switch(r){case N:!function(e,t){if(e.namespace===R){var r,a,n,i,o,l,s,c=e.target,u=O(c),d=O(t.source),p=d.get(0),f=t.lblselector||"."+y,g=t.itmselector||"ul:first() > li";d.hasClass(v)&&(r=T.getData(d,N),d.data(K,r),t=O.extend({},t,r)),l=t.actions||[],s=t.renderas?t.renderas:"select",p.id||(p.id=T.getId()),(n=d.children().first()).hasClass(h)?(i=n.html(),g="."+h+" + "+g):(i=(a=n.find(f)).length?a.html():d.find("> p").html(),f=null),o=w(d.find(g)),t.outputctnrid||(t.outputctnrid=t.provEvt.parentElement.id),u.trigger(s+"."+L,{actions:l,source:p,attributes:t.attributes,outputctnrid:t.outputctnrid,label:i,lblselector:f,defaultselectedlabel:t.defaultselectedlabel,required:!t.isoptional,noreqlabel:t.noreqlabel,items:o,inline:t.inline})}}(e,t);break;case"tblfilter":!function(e,t){if(e.namespace===R){var r,a,n,i,o,l,s,c,u,d,p,f,g,h=t.column,b=t.csvextract,m=t.source,v=O(m),y=[],w=t.label,j=t.defaultselectedlabel,x=t.lblselector,k=t.fltrseq?t.fltrseq:[],S=t.limit?t.limit:10;if(!v.hasClass("wb-tables-inited"))return v.one("wb-ready.wb-tables",function(){O(e.target).trigger("tblfilter."+R,t)});if((a=v.dataTable({retrieve:!0}).api()).rows({search:"applied"}).data().length<=S)return;if(g=t.renderas?t.renderas:"select",!h&&k.length){if(!(u=k.shift()).column)throw"Column is undefined in the filter sequence";h=u.column,b=u.csvextract,j=u.defaultselectedlabel,w=u.label,x=u.lblselector}if(r=a.column(h,{search:"applied"}),b)for(o=0,l=(n=r.data()).length;o!==l;o+=1)y=y.concat(n[o].split(","));else for(o=0,l=(n=r.nodes()).length;o!==l;o+=1)for(s=0,c=(i=O(n[o]).find("li")).length;s!==c;s+=1)y.push(O(i[s]).text());y=y.sort().filter(function(e,t,r){return!t||e!==r[t-1]});var A=e.target,E=O(A),C=[],q=t.actions?t.actions:[];for(k.length&&(f={action:"append",srctype:"tblfilter",source:m,renderas:(d=k[0]).renderas?d.renderas:g,fltrseq:k,limit:S}),o=0,l=y.length;o!==l;o+=1)p={label:u=y[o],actions:[{action:"tblfilter",source:m,column:h,value:u}]},f&&p.actions.push(f),C.push(p);w=w||r.header().textContent,t.outputctnrid||(t.outputctnrid=t.provEvt.parentElement.id),E.trigger(g+"."+L,{actions:q,source:v.get(0),outputctnrid:t.outputctnrid,label:w,defaultselectedlabel:j,lblselector:x,items:C,inline:t.inline})}}(e,t)}break;case L:switch(r){case"select":!function(e,t){var r,a,n,i,o,l,s,c,u,d=t.outputctnrid,p=O("#"+d),f=t.actions,g=t.lblselector,h=!!t.required,b=!t.noreqlabel,m=t.items,v=e.target,y=O(v),w=t.source,j=t.attributes,x=y.data(K).i18n,k=T.getId(),S="<label for='"+k+"'",A="</span>",E=t.defaultselectedlabel?t.defaultselectedlabel:x.defaultsel;if(h&&b&&(S+=" class='required'",A+=" <strong class='required'>("+x.required+")</strong>"),S+="><span class='field-name'>",A+="</label>",g?(a=(r=O("<div>"+t.label+"</div>")).find(g)).html(S+a.html()+A):r=O(S+t.label+A),n="<select id='"+k+"' name='"+U+k+"' class='full-width form-control mrgn-bttm-md "+D+"' data-"+G+"='"+v.id+"' "+V+"='"+w.id+"'",h&&(n+=" required"),j&&"object"==typeof j)for(o in j)j.hasOwnProperty(o)&&(n+=" "+o+"='"+j[o]+"'");for(n+="><option value=''>"+E+"</option>",o=0,l=m.length;o!==l;o+=1)if((u=m[o]).group){for(n+="<optgroup label='"+u.label+"'>",c=u.group.length,s=0;s!==c;s+=1)n+=C(u.group[s]);n+="</optgroup>"}else n+=C(u);i=O(n+="</select>"),p.append(r).append(i),f&&0<f.length&&i.data(W,f),Y(y,F,k)}(e,t);break;case"checkbox":t.typeRadCheck="checkbox",i(e,t);break;case"radio":t.typeRadCheck="radio",i(e,t)}break;case Q:switch(r){case"append":!function(e,t){if(e.namespace===Q){var r=t.srctype?t.srctype:N;if(t.container=t.provEvt.parentNode.id,!t.source)throw"A source is required to append a field flow control.";O(e.currentTarget).trigger(r+"."+R,t)}}(e,t);break;case"redir":Y(O(t.provEvt),H,t,!0);break;case"ajax":!function(e,t){var r,a=t.provEvt;t.live?(t.container||(r=O("<div></div>"),O(a.parentNode).append(r),t.container=r.get(0)),O(e.target).trigger("ajax."+z,t)):(t.preventSubmit=!0,Y(O(a),H,t))}(e,t);break;case"tblfilter":!function(e,t){if(e.namespace===Q){var r,a=t.source,n=O(a).dataTable({retrieve:!0}).api(),i=t.column,o=parseInt(i,10),l=!!t.regex,s=!t.smart||!!t.smart,c=!t.caseinsen||!!t.caseinsen;i=!0===o?o:i,(r=n.column(i)).search(t.value,l,s,c).draw(),O(t.provEvt).one(M,function(){r.search("").draw()})}}(e,t);break;case"toggle":t.live?n(e,t):(t.preventSubmit=!0,Y(O(t.provEvt),H,t));break;case"addClass":if(!t.source||!t.class)return;t.live?O(t.source).addClass(t.class):(t.preventSubmit=!0,Y(O(t.provEvt),H,t));break;case"removeClass":if(!t.source||!t.class)return;t.live?O(t.source).removeClass(t.class):(t.preventSubmit=!0,Y(O(t.provEvt),H,t));break;case"query":a(0,t)}break;case z:switch(r){case"redir":!function(e,t){var r=t.form,a=t.url;a&&r.setAttribute("action",a)}(0,t);break;case"ajax":!function(e,t){var r,a,n,i=t.clean;t.container?r=O(t.container):(a=T.getId(),r=O("<div id='"+a+"'></div>"),O(t.form).append(r),i="#"+a),i&&O(t.origin).one(M,function(){O(i).empty()}),t.trigger&&r.attr("data-trigger-wet","true"),n=t.type?t.type:"replace",r.attr("data-ajax-"+n,t.url),r.one("wb-contentupdated",function(e,t){var r=e.currentTarget,a=r.getAttribute("data-trigger-wet");r.removeAttribute("data-ajax-"+t["ajax-type"]),a&&(O(r).find(T.allSelectors).addClass("wb-init").filter(":not(#"+r.id+" .wb-init .wb-init)").trigger("timerpoke.wb"),r.removeAttribute("data-trigger-wet"))}),r.trigger("wb-update.wb-data-ajax")}(0,t);break;case"toggle":n(e,t);break;case"addClass":O(t.source).addClass(t.class);break;case"removeClass":O(t.source).removeClass(t.class);break;case"query":a(0,t)}}}),l.on("timerpoke.wb "+r,d,function(e){switch(e.type){case"timerpoke":case"wb-init":!function(e){var t,r,a,n,i,o=T.init(e,N,d);if(o){t=O(o),r=o.id,g.i18n[T.lang]&&(g.i18n=g.i18n[T.lang]),(a=T.getData(t,N))&&a.i18n&&(a.i18n=O.extend({},g.i18n,a.i18n)),(n=O.extend({},g,a)).defaultIfNone&&!O.isArray(n.defaultIfNone)&&(n.defaultIfNone=[n.defaultIfNone]),t.data(K,n),i=n.i18n,String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e});var l,s,c,u=T.getId();if(n.noForm){for(l="<div class='mrgn-tp-md'><div id='"+u+"'></div></div>",s=o.parentElement;"FORM"!==s.nodeName;)s=s.parentElement;O(s.parentElement).addClass(p)}else l=(l="<div class='wb-frmvld "+p+"'><form><div id='"+u+"'>")+'</div><input type="submit" value="'+i.btn+'" class="btn btn-primary mrgn-bttm-md" /> </form></div>';t.addClass("hidden"),l=O(l),t.after(l),n.noForm||(s=l.find("form"),l.trigger("wb-init.wb-frmvld")),c=O(s),Y(c,F,r),n.outputctnrid||(n.outputctnrid=u),n.source||(n.source=o),n.srctype||(n.srctype=N),n.inline=!!n.inline,t.trigger(n.srctype+"."+R,n),n.unhideelm&&O(n.unhideelm).removeClass("hidden"),n.hideelm&&O(n.hideelm).addClass("hidden"),T.ready(t,N),n.ext&&(n.form=c.get(0),t.trigger(n.ext+"."+f,n))}}(e)}return!0}),T.add(d)}(jQuery,document,wb),function(f,g){"use strict";var e=g.doc,h={},b={},m=function(e,t,r,a,n,i){if(!window.jsonpointer)return setTimeout(function(){m(e,t,r,a,n,i)},100),!1;i&&(r=jsonpointer.get(r,i)),f("#"+e).trigger({type:"json-fetched.wb",fetch:{response:r,status:a,xhr:n,refId:t}},this)};e.on("json-fetch.wb",function(e){var t,r,l,a,n=e.element||e.target,s=e.fetch,i=s.url.split("#"),c=i[0],o=s.nocache,u=s.nocachekey||g.cacheBustKey||"wbCacheBust",d=i[1]||!1,p=s.refId;if(n===e.target||e.currentTarget===e.target){if(n.id||(n.id=g.getId()),l=n.id,d){if(91===(r=d.split("/")[0]).charCodeAt(0))return void f("#"+l).trigger({type:"postpone.wb-jsonmanager",postpone:{callerId:l,refId:p,dsname:r,selector:d.substring(r.length)}});s.url=c}o&&(t=u+"="+("nocache"===o?g.guid():g.sessionGUID()),c=-1!==c.indexOf("?")?c+"&"+t:c+"?"+t,s.url=c),Modernizr.load({load:"site!deps/jsonpointer"+g.getMode()+".js",complete:function(){if(!s.nocache){if(a=h[c])return void m(l,p,a,"success",void 0,d);if(b[c])return void b[c].push({callerId:l,refId:p,selector:d});b[c]=[]}f.ajax(s).done(function(e,t,r){var a,n,i,o;if(!s.nocache)try{h[c]=e}catch(e){return}if(m(l,p,e,t,r,d),b[c])for(n=(o=b[c]).length,a=0;a!==n;a+=1)i=o[a],m(i.callerId,i.refId,e,t,r,i.selector)}).fail(function(e,t,r){f("#"+l).trigger({type:"json-failed.wb",fetch:{xhr:e,status:t,error:r,refId:p}},this)},this)}})}})}(jQuery,wb),function(m,p,v){"use strict";function y(e,t,r,a){e.after('<p lang="en"><strong>JSON Manager Debug</strong> ('+t+')</p><ul lang="en"><li>JSON: <pre><code>'+JSON.stringify(r)+"</code></pre></li><li>Patches: <pre><code>"+JSON.stringify(a)+"</code></pre>")}function w(e,t,r,a){var n,i;if(m.isArray(r)||(r=[r]),m.isArray(a)||(a=[a]),n=jsonpointer.get(e,t),m.isArray(n))for(i=n.length-1;-1!==i;i-=1)c(n[i],r,a)||jsonpatch.apply(e,[{op:"remove",path:t+"/"+i}]);return e}var j="wb-jsonmanager",f="[data-"+j+"]",g=[],x={},k={},S={},e=v.doc,h={ops:[{name:"wb-count",fn:function(e,t,r){var a,n,i=e[t],o=0,l=this.filter||[],s=this.filternot||[];if(m.isArray(l)||(l=[l]),m.isArray(s)||(s=[s]),(l.length||s.length)&&m.isArray(i))for(a=i.length,n=0;n!==a;n+=1)c(i[n],l,s)&&(o+=1);else m.isArray(i)&&(o=i.length);jsonpatch.apply(r,[{op:"add",path:this.set,value:o}])}},{name:"wb-first",fn:function(e,t,r){var a=e[t];m.isArray(a)&&0!==a.length&&jsonpatch.apply(r,[{op:"add",path:this.set,value:a[0]}])}},{name:"wb-last",fn:function(e,t,r){var a=e[t];m.isArray(a)&&0!==a.length&&jsonpatch.apply(r,[{op:"add",path:this.set,value:a[a.length-1]}])}},{name:"wb-nbtolocal",fn:function(e,t,r){var a=e[t],n=this.locale||p.wb.lang,i=this.suffix||"",o=this.prefix||"";"string"==typeof a&&(a=parseFloat(a),isNaN(a))||jsonpatch.apply(r,[{op:"replace",path:this.path,value:o+a.toLocaleString(n)+i}])}},{name:"wb-toDateISO",fn:function(e,t,r){this.set?jsonpatch.apply(r,[{op:"add",path:this.set,value:v.date.toDateISO(e[t])}]):jsonpatch.apply(r,[{op:"replace",path:this.path,value:v.date.toDateISO(e[t])}])}},{name:"wb-toDateTimeISO",fn:function(e,t,r){this.set?jsonpatch.apply(r,[{op:"add",path:this.set,value:v.date.toDateISO(e[t],!0)}]):jsonpatch.apply(r,[{op:"replace",path:this.path,value:v.date.toDateISO(e[t],!0)}])}}],opsArray:[{name:"wb-toDateISO",fn:function(e){var t,r=this.set,a=this.path,n=e.length;for(t=0;t!==n;t+=1)r?jsonpatch.apply(e,[{op:"wb-toDateISO",set:"/"+t+r,path:"/"+t+a}]):jsonpatch.apply(e,[{op:"wb-toDateISO",path:"/"+t+a}])}},{name:"wb-toDateTimeISO",fn:function(e){var t,r=this.set,a=this.path,n=e.length;for(t=0;t!==n;t+=1)r?jsonpatch.apply(e,[{op:"wb-toDateTimeISO",set:"/"+t+r,path:"/"+t+a}]):jsonpatch.apply(e,[{op:"wb-toDateTimeISO",path:"/"+t+a}])}}],opsRoot:[],settings:{}},c=function(e,t,r){var a,n,i,o=t.length,l=r.length,s=!1;if(o||l){for(a=0;a<o;a+=1)if(n=t[a],i=u(jsonpointer.get(e,n.path),n.value),n.optional)s=s||i;else{if(!i)return!1;s=!0}if(o&&!s)return!1;for(a=0;a<l;a+=1)if(n=r[a],(i=u(jsonpointer.get(e,n.path),n.value))&&!n.optional||i&&n.optional)return!1}return!0},u=function(e,t){switch(typeof e){case"undefined":return!1;case"boolean":case"string":case"number":return e===t;case"object":if(null===e)return null===t;if(m.isArray(e)){if(m.isArray(t)||e.length!==t.length)return!1;for(var r=0,a=e.length;r<a;r++)if(!u(e[r],t[r]))return!1;return!0}var n=i(t).length;if(i(e).length!==n)return!1;for(r=0;r<n;r++)if(!u(e[r],t[r]))return!1;return!0;default:return!1}},i=function(e){if(m.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t};v.ie&&(Number.prototype.toLocaleString=function(e){var t,r=this.toString().split("."),a=r[0],n=r[1],i=a.length,o=i%3||3,l=a.substr(0,o),s="fr"===e,c=s?" ":",";for(t=o;t<i;t+=3)l=l+c+a.substr(t,3);return n.length&&(l=s?l+","+n:l+"."+n),l}),e.on("json-failed.wb",f,function(e){var t,r=e.target;r===e.currentTarget&&((t=m(r)).addClass("jsonfail"),v.ready(t,j))}),e.on("json-fetched.wb",f,function(e){var t,r,a,n,i,o,l,s,c,u,d,p,f=e.target,g=m(f),h=e.fetch.response,b=m.isArray(h);if(f===e.currentTarget){r="["+(t=v.getData(g,j)).name+"]",c=t.patches||[],p=t.fpath,u=t.filter||[],d=t.filternot||[],m.isArray(c)||(c=[c]),h=b?m.extend([],h):m.extend({},h),p&&(h=w(h,p,u,d)),c.length&&(b&&t.wraproot&&((o={})[t.wraproot]=h,h=o),jsonpatch.apply(h,c)),t.debug&&y(g,"initEvent",h,c);try{x[r]=h}catch(e){return}if(!(k[r]=t).wait&&S[r])for(i=(l=S[r]).length,n=0;n!==i;n+=1){if((s=(o=l[n]).selector).length)try{a=jsonpointer.get(h,s)}catch(e){throw r+" - JSON selector not found: "+s}else a=h;m("#"+o.callerId).trigger({type:"json-fetched.wb",fetch:{response:a,status:"200",refId:o.refId,xhr:null}},this)}v.ready(g,j)}}),e.on("patches.wb-jsonmanager",f,function(e){var t,r,a,n,i,o,l,s,c,u=e.target,d=m(u),p=e.patches,f=e.fpath,g=e.filter||[],h=e.filternot||[],b=!!e.cumulative;if(u===e.currentTarget&&m.isArray(p)){if(!(t=v.getData(d,j)))return!0;if(r="["+t.name+"]",!S[r])throw"Applying patched on undefined dataset name: "+r;for(a=x[r],b||(a=m.extend(!0,m.isArray(a)?[]:{},a)),f&&(a=w(a,f,g,h)),jsonpatch.apply(a,p),t.debug&&y(d,"patchesEvent",a,p),l=(i=S[r]).length,o=0;o!==l;o+=1){if((c=(s=i[o]).selector).length)try{n=jsonpointer.get(a,c)}catch(e){throw r+" - JSON selector not found: "+c}else n=a;m("#"+s.callerId).trigger({type:"json-fetched.wb",fetch:{response:n,status:"200",refId:s.refId,xhr:null}},this)}}}),e.on("postpone.wb-jsonmanager",function(e){var t,r=e.postpone,a=r.dsname,n=r.callerId,i=r.refId,o=r.selector;if(S[a]||(S[a]=[]),S[a].push({callerId:n,refId:i,selector:o}),x[a]&&!k[a].wait){if(t=x[a],o.length)try{t=jsonpointer.get(t,o)}catch(e){throw a+" - JSON selector not found: "+o}m("#"+n).trigger({type:"json-fetched.wb",fetch:{response:t,status:"200",refId:i,xhr:null}},this)}}),e.on("op.action.wb-fieldflow",".wb-fieldflow",function(e,t){t.op&&(t.preventSubmit=!0,function(e,t,r,a){var n=e.data(t);n&&!a||(n=[]),n.push(r),e.data(t,n)}(m(t.provEvt),"wb-fieldflow-submit",t))}),e.on("op.submit.wb-fieldflow",".wb-fieldflow",function(e,t){var r,a=t.op,n=t.source;if(!a)return!0;m.isArray(a)?r=a:(r=[]).push(a),m(n).trigger({type:"patches.wb-jsonmanager",patches:r})}),e.on("timerpoke.wb wb-init.wb-jsonmanager",f,function(e){var t,r,a,n,i,o,l,s,c,u=v.init(e,j,f),d=p[j]||{};u&&(t=m(u),Modernizr.load({load:"site!deps/json-patch"+v.getMode()+".js",testReady:function(){return p.jsonpatch},complete:function(){var e=v.getData(t,j);if(!h.registered){if(r=h.ops.concat(d.ops||[]),a=h.opsArray.concat(d.opsArray||[]),n=h.opsRoot.concat(d.opsRoot||[]),r.length)for(i=0,o=r.length;i!==o;i++)l=r[i],jsonpatch.registerOps(l.name,l.fn);if(a.length)for(i=0,o=a.length;i!==o;i++)l=a[i],jsonpatch.registerOpsArray(l.name,l.fn);if(n.length)for(i=0,o=n.length;i!==o;i++)l=n[i],jsonpatch.registerOpsRoot(l.name,l.fn);h.settings=m.extend({},h.settings,d.settings||{}),h.registered=!0}if(!(c=e.name)||c in g)throw"Dataset name must be unique";g.push(c),(s=e.url)?(t.trigger({type:"json-fetch.wb",fetch:{url:s,nocache:e.nocache,nocachekey:e.nocachekey}}),35===s.charCodeAt(0)&&91===s.charCodeAt(1)&&v.ready(t,j)):v.ready(t,j)}}))}),v.add(f)}(jQuery,window,wb),function(a,n){"use strict";var t,i,v,o,y,l="gcweb-menu",w="."+l,e=n.doc,r=w+" [data-ajax-replace],"+w+" [data-ajax-append],"+w+" [data-ajax-prepend],"+w+" [data-wb-ajax]",s=350,c={en:"Press the SPACEBAR to expand or the escape key to collapse this menu. Use the Up and Down arrow keys to choose a submenu item. Press the Enter or Right arrow key to expand it, or the Left arrow or Escape key to collapse it. Use the Up and Down arrow keys to choose an item on that level and the Enter key to access it.",fr:"Appuyez sur la barre d'espacement pour ouvrir ou sur la touche d'échappement pour fermer le menu. Utilisez les flèches haut et bas pour choisir un élément de sous-menu. Appuyez sur la touche Entrée ou sur la flèche vers la droite pour le développer, ou sur la flèche vers la gauche ou la touche Échap pour le réduire. Utilisez les flèches haut et bas pour choisir un élément de ce niveau et la touche Entrée pour y accéder."},u=function(e){var t=a(e).parentsUntil(w).parents(),r=document.querySelector("html").className;v=-1!==r.indexOf("smallview"),o=-1!==r.indexOf("mediumview"),(v||o)&&d(!1,o),e.previousElementSibling.setAttribute("aria-label",c),n.ready(t,l)};function j(e){if("true"!==e.getAttribute("aria-expanded")){var t=e.parentElement.parentElement.querySelector("[aria-haspopup][aria-expanded=true]:not([data-keep-expanded=md-min])");t&&!v&&x(t,!0),e.setAttribute("aria-expanded","true"),i=e,setTimeout(function(){i=!1},s)}}function x(e,t){if(e){if(e.hasAttribute("aria-haspopup")||(e=e.previousElementSibling),!t){var r=e.nextElementSibling.querySelector("[role=menuitem]:focus"),a=e.parentElement.parentElement.querySelector("[role=menuitem]:focus");if(r||a===e)return}e.setAttribute("aria-expanded","false")}}function d(e,t){var r,a=document.querySelectorAll("[role=menu] [role=menu] [role=menuitem][aria-haspopup=true]"),n=a.length,i=t?"true":"false",o=e?"vertical":"horizontal",l=i;for(r=0;r<n;r++)l=a[r].nextElementSibling.querySelector("[role=menuitem]:focus")?"true":i,a[r].setAttribute("aria-expanded",l),a[r].parentElement.previousElementSibling.setAttribute("aria-orientation",o)}e.on("mouseenter",w+" ul [aria-haspopup]",function(e){v||(clearTimeout(void 0),function(e){"md-min"!==e.dataset.keepExpanded&&(clearTimeout(t),t=setTimeout(function(){j(e)},s))}(e.currentTarget))}),e.on("focusin",w+" ul [aria-haspopup]",function(e){v?y=!1:j(e.currentTarget)}),e.on("mouseenter focusin",w+" [aria-haspopup] + [role=menu]",function(e){"md-min"!==e.currentTarget.previousElementSibling.dataset.keepExpanded&&(v||i===e.currentTarget||clearTimeout(void 0))}),e.on("mouseleave",w+" [aria-haspopup]",function(){clearTimeout(t)}),e.on("click",w+" [aria-haspopup]",function(e){var t,r=e.currentTarget;y?y=!1:(!v&&"BUTTON"!==r.nodeName||("true"===r.getAttribute("aria-expanded")?i!==r&&x(r,!0):(j(r),(t=r.nextElementSibling.querySelector("[role=menuitem]")).focus(),t.setAttribute("tabindex","0"))),e.stopImmediatePropagation(),e.preventDefault())}),e.on(n.resizeEvents,function(e){switch(e.type){case"xxsmallview":case"xsmallview":case"smallview":d(!(v=!0),!1);break;case"mediumview":d(v=!1,!0);break;case"largeview":case"xlargeview":default:d(!(v=!1),!0)}}),e.on("keydown",function(e){27===e.keyCode&&x(document.querySelector(w+" button"))}),e.on("keydown",w+" button, "+w+" [role=menuitem]",function(e){var t=e.currentTarget,r=function(e){return 9===e?"tab":13===e||32===e?"enter":27===e?"esc":39===e?"right":37===e?"left":40===e?"down":38===e&&"up"}(e.charCode||e.keyCode),a=document.querySelector("[role=menuitem]:focus")||t,n=a.parentElement,i=n.parentElement,o="BUTTON"===a.nodeName;if("tab"!==r)if(o&&"enter"===r&&"true"===t.getAttribute("aria-expanded"))x(t,y=!0);else{var l,s;a.nextElementSibling&&(l=a.nextElementSibling.querySelector("[role='menuitem']")),s=n.nextElementSibling?(s=n.nextElementSibling.querySelector("[role=menuitem]"))||n.nextElementSibling.nextElementSibling.querySelector("[role=menuitem]"):!v&&a.dataset.keepExpanded&&l?l:!v&&i.previousElementSibling.dataset.keepExpanded?i.parentElement.parentElement.querySelector("[role=menuitem]"):i.querySelector("[role=menuitem]");var c,u=i.previousElementSibling;c=n.previousElementSibling?(c=n.previousElementSibling.querySelector("[role=menuitem]"))||n.previousElementSibling.previousElementSibling.querySelector("[role=menuitem]"):!v&&i.lastElementChild.querySelector("[role=menuitem]").dataset.keepExpanded?i.lastElementChild.querySelector("[role=menuitem]").nextElementSibling.lastElementChild.querySelector("[role=menuitem]"):!v&&i.previousElementSibling.dataset.keepExpanded&&u?u:o?a.nextElementSibling.lastElementChild.querySelector("[role=menuitem]"):i.lastElementChild.querySelector("[role=menuitem]");for(var d,p,f,g,h,b=n;b.nextElementSibling;)if("separator"===(b=b.nextElementSibling).getAttribute("role")){d=!(!b.hasAttribute("aria-orientation")||"vertical"!==b.getAttribute("aria-orientation")),p=b.nextElementSibling.querySelector("[role=menuitem]");break}for(b=n;b.previousElementSibling;){if("separator"===(b=b.previousElementSibling).getAttribute("role")){if(g)break;f=!(!b.hasAttribute("aria-orientation")||"vertical"!==b.getAttribute("aria-orientation")),g=b.previousElementSibling}g=g&&b}if(g=g&&g.querySelector("[role=menuitem]"),o||a.setAttribute("tabindex","-1"),"down"===r&&s)h=s;else if("up"===r&&c)h=c;else if(!o&&"right"===r&&l||"enter"===r&&l)h=l;else if(d&&"right"===r)h=p;else if(f&&"left"===r)h=g;else if(!o&&"left"===r||!o&&"esc"===r)h=u;else if("tab"===r)return;if("left"!==r&&"esc"!==r||(!o&&v&&"true"===h.getAttribute("aria-expanded")?h.setAttribute("aria-expanded","false"):o&&t.setAttribute("aria-expanded","false")),h){if(v||o){var m=h.parentElement.parentElement.previousElementSibling;"true"!==m.getAttribute("aria-expanded")&&j(m)}h.setAttribute("tabindex","0"),h.focus(),e.stopImmediatePropagation(),e.preventDefault()}}else x(document.querySelector(w+" button"),!0)}),e.on("ajax-fetched.wb ajax-failed.wb",r,function(e){var t=e.target;e.currentTarget===t&&u(t)}),e.on("timerpoke.wb wb-init.gcweb-menu",w,function(e){var t=n.init(e,l,w);t&&(c[n.lang]?c=c[n.lang]:c.en&&(c=c.en),t.querySelector(r)||u(t.querySelector("[role=menu]")))}),n.add(w)}(jQuery,wb),function(p,l,s){"use strict";function c(e,t,r){var a,n,i,o,l,s,c;for(n=(r=p.isArray(r)?p.extend([],r):[r]).length,a=0;a!==n;a+=1)if(o=(i=r[a]).action){if(l=i.match,c=i.default,s=!1,l&&!c)throw"'match' and 'default' property need to be set";if(c&&t.length&&"string"==typeof l)try{s=(s=new RegExp(l).exec(t))||c}catch(e){}switch(!i.qval&&s&&(i.qval=s),o){case"patch":var u=i.patches,d=i.base||"/";u||(u=[g],i.cumulative=!0),p.isArray(u)||(u=[u]),u=h(u,i.qval,d),i.patches=u;break;case"ajax":i.trigger&&e[0]!==f&&(i.trigger=!1),i.url=b(i.url,i.qval);break;case"tblfilter":i.value=b(i.value,i.qval)}}e.trigger({type:"do.wb-actionmng",actions:r})}var f,u="wb-urlmapping",a="[data-"+u+"]",n="domapping."+u,i=s.doc,g={op:"move",path:"{base}",from:"{base}/{qval}"},h=function(e,t,r){var a,n,i,o=e.length,l=[];for(r=r||"/",a=0;a!==o;a+=1)n=e[a],i=p.extend({},n),n.path&&(i.path=b(n.path,t,r)),n.from&&(i.from=b(n.from,t,r)),n.value&&(i.value=b(n.value,t,r)),l.push(i);return l},b=function(e,t,r){return t?r?e.replace(/\{qval\}/,t).replace(/\{base\}/,r):e.replace(/\{qval\}/,t):e};i.on(n,a,function(e){var t,r,a,n=p(e.target),i=function(){for(var e={},t=/\+/g,r=/([^&=]+)=?([^&]*)/g,a=function(e){return decodeURIComponent(e.replace(t," "))},n=l.location.search.substring(1),i=r.exec(n);i;)e[a(i[1])]=a(i[2]),i=r.exec(n);return e}(),o=p.extend({},l[u]||{},s.getData(n,u));for(t in i)if("object"==typeof(a=o[t+"="+(r=i[t])]||o[t])&&(c(n,r,a),!o.multiplequery))break}),i.on("timerpoke.wb wb-init.wb-urlmapping",a,function(e){var t,r=s.init(e,u,a);r&&(t=p(r),f=f||r,s.ready(t,u),s.isReady?t.trigger(n):i.one("wb-ready.wb",function(){t.trigger(n)}))}),s.add(a)}(jQuery,window,wb),function(r,e,o){"use strict";function n(e){0<e.length&&r(this).trigger({type:"ajax-fetch.wb",fetch:{url:o.pageUrlParts.protocol+"//clients1.google.com/complete/search?client=partner&sugexp=gsnos%2Cn%3D13&gs_rn=25&gs_ri=partner&partnerid="+window.encodeURIComponent("008724028898028201144:knjjdikrhq0+lang:"+o.lang)+"&types=t&ds=cse&cp=3&gs_id=b&hl="+o.lang+"&q="+encodeURI(e),dataType:"jsonp",jsonp:"callback"}})}var t=o.doc,a="#wb-srch-q",l=r(a),s=r("#"+l.attr("list"));t.on("change keyup",a,function(e){var t=e.target,r=e.target.value,a=e.which;switch(e.type){case"change":n.call(t,r);break;case"keyup":e.ctrlKey||e.altKey||e.metaKey||(32===a||47<a&&a<91||95<a&&a<112||159<a&&a<177||187<a&&a<223)&&n.call(t,r)}}),t.on("ajax-fetched.wb",a,function(e){var t,r,a=e.fetch.response[1],n=a.length,i="";for(s.empty(),t=0;t<n;t+=1)i+='<option label="'+(r=a[t])[0]+'" value="'+r[0]+'"></option>';o.ielt10&&(i="<select>"+i+"</select>"),s.append(i),l.trigger("wb-update.wb-datalist")}),window["wb-data-ajax"]={corsFallback:function(e){return e.url=e.url.replace(".html",".htmlp"),e}},r("[data-reveal]").change(function(){var e=r(this),t=e.attr("data-reveal");return e.is(":checked")?r(t).removeClass("hide"):r(t).addClass("hide")})}(jQuery,document,wb);