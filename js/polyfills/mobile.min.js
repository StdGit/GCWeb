/*!
 * Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 * v4.0.32-development - 2019-10-28
 *
 */
!function(e,n,o){"function"==typeof define&&define.amd?define(["jquery"],function(t){return o(t,e,n),t.mobile}):o(e.jQuery,e,n)}(this,document,function(t,e,n,o){var i,r;!function(t){t.event.special.throttledresize={setup:function(){t(this).bind("resize",i)},teardown:function(){t(this).unbind("resize",i)}};var e,n,o,i=function(){n=(new Date).getTime(),250<=(o=n-r)?(r=n,t(this).trigger("throttledresize")):(e&&clearTimeout(e),e=setTimeout(i,250-o))},r=0}(t),function(p,t,e,d){var c,s="virtualMouseBindings",u="virtualTouchID",n="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),v="clientX clientY pageX pageY screenX screenY".split(" "),o=p.event.mouseHooks?p.event.mouseHooks.props:[],f=p.event.props.concat(o),a={},i=0,r=0,l=0,h=!1,m=[],g=!1,b=!1,w="addEventListener"in e,T=p(e),D=1,E=0;function k(t){for(;t&&void 0!==t.originalEvent;)t=t.originalEvent;return t}function y(t){for(var e,n,o={};t;){for(n in e=p.data(t,s))e[n]&&(o[n]=o.hasVirtualBinding=!0);t=t.parentNode}return o}function X(){b=!0}function Y(){b=!1}function M(){P(),i=setTimeout(function(){E=i=0,m.length=0,g=!1,X()},p.vmouse.resetTimerDuration)}function P(){i&&(clearTimeout(i),i=0)}function z(t,e,n){var o;return(n&&n[t]||!n&&function(t,e){for(var n;t;){if((n=p.data(t,s))&&(!e||n[e]))return t;t=t.parentNode}return null}(e.target,t))&&(o=function(t,e){var n,o,i,r,s,a,c,u,l,h=t.type;if((t=p.Event(t)).type=e,n=t.originalEvent,o=p.event.props,-1<h.search(/^(mouse|click)/)&&(o=f),n)for(c=o.length;c;)t[r=o[--c]]=n[r];if(-1<h.search(/mouse(down|up)|click/)&&!t.which&&(t.which=1),-1!==h.search(/^touch/)&&(h=(i=k(n)).touches,s=i.changedTouches,a=h&&h.length?h[0]:s&&s.length?s[0]:d))for(u=0,l=v.length;u<l;u++)t[r=v[u]]=a[r];return t}(e,t),p(e.target).trigger(o)),o}function S(t){var e=p.data(t.target,u);if(!(g||E&&E===e)){var n=z("v"+t.type,t);n&&(n.isDefaultPrevented()&&t.preventDefault(),n.isPropagationStopped()&&t.stopPropagation(),n.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function I(t){var e,n,o=k(t).touches;if(o&&1===o.length&&(n=y(e=t.target)).hasVirtualBinding){E=D++,p.data(e,u,E),P(),Y(),h=!1;var i=k(t).touches[0];r=i.pageX,l=i.pageY,z("vmouseover",t,n),z("vmousedown",t,n)}}function x(t){b||(h||z("vmousecancel",t,y(t.target)),h=!0,M())}function B(t){if(!b){var e=k(t).touches[0],n=h,o=p.vmouse.moveDistanceThreshold,i=y(t.target);(h=h||Math.abs(e.pageX-r)>o||Math.abs(e.pageY-l)>o)&&!n&&z("vmousecancel",t,i),z("vmousemove",t,i),M()}}function N(t){if(!b){X();var e,n=y(t.target);if(z("vmouseup",t,n),!h){var o=z("vclick",t,n);o&&o.isDefaultPrevented()&&(e=k(t).changedTouches[0],m.push({touchID:E,x:e.clientX,y:e.clientY}),g=!0)}z("vmouseout",t,n),h=!1,M()}}function j(t){var e,n=p.data(t,s);if(n)for(e in n)if(n[e])return!0;return!1}function F(){}function H(i){var r=i.substr(1);return{setup:function(t,e){j(this)||p.data(this,s,{}),p.data(this,s)[i]=!0,a[i]=(a[i]||0)+1,1===a[i]&&T.bind(r,S),p(this).bind(r,F),w&&(a.touchstart=(a.touchstart||0)+1,1===a.touchstart&&T.bind("touchstart",I).bind("touchend",N).bind("touchmove",B).bind("scroll",x))},teardown:function(t,e){--a[i],a[i]||T.unbind(r,S),w&&(--a.touchstart,a.touchstart||T.unbind("touchstart",I).unbind("touchmove",B).unbind("touchend",N).unbind("scroll",x));var n=p(this),o=p.data(this,s);o&&(o[i]=!1),n.unbind(r,F),j(this)||n.removeData(s)}}}p.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var L=0;L<n.length;L++)p.event.special[n[L]]=H(n[L]);w&&e.addEventListener("click",function(t){var e,n,o,i,r,s=m.length,a=t.target;if(s)for(e=t.clientX,n=t.clientY,c=p.vmouse.clickDistanceThreshold,o=a;o;){for(i=0;i<s;i++)if(r=m[i],0,o===a&&Math.abs(r.x-e)<c&&Math.abs(r.y-n)<c||p.data(o,u)===r.touchID)return t.preventDefault(),void t.stopPropagation();o=o.parentNode}},!0)}(t,0,n),t.mobile={},r={touch:"ontouchend"in n},(i=t).mobile.support=i.mobile.support||{},i.extend(i.support,r),i.extend(i.mobile.support,r),function(c){var u=c(n);c.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,e){c.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)},c.attrFn&&(c.attrFn[e]=!0)});var t=c.mobile.support.touch,e=t?"touchstart":"mousedown",r=t?"touchend":"mouseup",s=t?"touchmove":"mousemove";function l(t,e,n){var o=n.type;n.type=e,c.event.dispatch.call(t,n),n.type=o}c.event.special.scrollstart={enabled:!0,setup:function(){var n,e,o=this;function i(t,e){l(o,(n=e)?"scrollstart":"scrollstop",t)}c(o).bind("touchmove scroll",function(t){c.event.special.scrollstart.enabled&&(n||i(t,!0),clearTimeout(e),e=setTimeout(function(){i(t,!1)},50))})}},c.event.special.tap={tapholdThreshold:750,setup:function(){var s=this,a=c(s);a.bind("vmousedown",function(t){if(t.which&&1!==t.which)return!1;var e,n=t.target;t.originalEvent;function o(){clearTimeout(e)}function i(){o(),a.unbind("vclick",r).unbind("vmouseup",o),u.unbind("vmousecancel",i)}function r(t){i(),n===t.target&&l(s,"tap",t)}a.bind("vmouseup",o).bind("vclick",r),u.bind("vmousecancel",i),e=setTimeout(function(){l(s,"taphold",c.Event("taphold",{target:n}))},c.event.special.tap.tapholdThreshold)})}},c.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(t){var e=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[e.pageX,e.pageY],origin:c(t.target)}},stop:function(t){var e=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[e.pageX,e.pageY]}},handleSwipe:function(t,e){e.time-t.time<c.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-e.coords[0])>c.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-e.coords[1])<c.event.special.swipe.verticalDistanceThreshold&&t.origin.trigger("swipe").trigger(t.coords[0]>e.coords[0]?"swipeleft":"swiperight")},setup:function(){var i=c(this);i.bind(e,function(t){var e,n=c.event.special.swipe.start(t);function o(t){n&&(e=c.event.special.swipe.stop(t),Math.abs(n.coords[0]-e.coords[0])>c.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())}i.bind(s,o).one(r,function(){i.unbind(s,o),n&&e&&c.event.special.swipe.handleSwipe(n,e),n=e=void 0})})}},c.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,e){c.event.special[t]={setup:function(){c(this).bind(e,c.noop)}}})}(t)});
//# sourceMappingURL=mobile.min.js.map