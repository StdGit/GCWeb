/*!
 * Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 * v4.0.32-development - 2019-10-28
 *
 */
!function(o,e,t,d){"use strict";var p,f,r,u,a,h="wb-date",b="input[type=date]",i="wb-picker",n="-picker-toggle",g=new Date,l=d.doc,m=d.date.fromDateISO,w={minDate:new Date(1800,0,1),maxDate:new Date(2100,0,1),year:g.getFullYear(),month:g.getMonth(),daysCallback:function(e,t,a,i){var n,r=a,l=this.date;i&&(i.max&&(r=r.filter(":lt("+(i.max+1)+")")),i.min&&(r=r.filter(":gt("+(i.min-1)+")"))),r.wrap("<a href='javascript:;' tabindex='-1'></a>"),l&&e===l.getFullYear()&&t===l.getMonth()?(n=a.eq(l.getDate()-1)).parent().attr("aria-selected",!0):n=e===g.getFullYear()&&t===g.getMonth()?a.eq(g.getDate()-1):r.eq(0),n.parent().removeAttr("tabindex")}},v=function(e){var t=f.hide;(r=o("<div id='"+i+"' class='picker-overlay' role='dialog' tabindex='-1' aria-hidden='true'></div>")).find("a").attr("tabindex","-1"),o("main").after(r),u=d.calendar.create(r,e.state),o("<button type='button' class='picker-close mfp-close overlay-close' title=\""+t+"\">&#xd7;<span class='wb-inv'> "+t+"</span></button>").appendTo(r)},x=function(e){var t=e.id,a=e.state.labelText,i=f.show+a,n="<span class='input-group-btn'><a href='javascript:;' button id='"+t+"-picker-toggle' class='btn btn-default picker-toggle' href='javascript:;' title=\""+i+"\"><span class='glyphicon glyphicon-calendar'></span><span class='wb-inv'>"+i+"</span></a></span>";o("#"+d.jqEscape(t)).wrap("<span class='wb-date-wrap input-group'/>").after(n),r.slideUp(0)},y=function(){var e=this.state,t=m(this.getAttribute("min"))||e.minDate,a=m(this.getAttribute("max"))||e.maxDate,i=m(this.value);this.state.minDate=t,this.state.maxDate=a,i&&t<=i&&i<=a?(e.date=i,e.year=i.getFullYear(),e.month=i.getMonth()):e.date=null},s=function(){var e=u.field,t=u.$field,a=f.show+u.labelText;o("#"+d.jqEscape(e.id+n)).attr("title",a.replace("&#32;"," ")).children(".wb-inv").html(a),r.removeClass("open").attr("aria-hidden","true"),t.trigger("setfocus.wb")},c=function(e){var t=e.id,a=f.hide;y.call(e),u.reInit(e.state),k(),r.addClass("open").attr({"aria-controls":t,"aria-labelledby":t+n,"aria-hidden":"false"}).get(0).focus(),o("#"+d.jqEscape(t+n)).attr("title",a).children(".wb-inv").text(a)},k=function(){var e=u.field,t=u.$field.offset();r.attr("style","top:"+(t.top+e.offsetHeight)+"px;left:"+t.left+"px")};l.on("timerpoke.wb wb-init.wb-date",b,function(e){var t,a,i,n,r,l,s=d.init(e,h,b),c={};if(s){if(t=s.id,-1!==s.className.indexOf("picker-field"))return;f||(a=(p=d.i18n)("space").replace("&#32;"," ").replace("&#178;",""),f={show:p("date-show").replace("\\'","'")+a,hide:p("date-hide").replace("\\'","'")+a+a+p("esc-key").replace("\\'","'"),selected:p("date-sel").replace("\\'","'")}),s.className+=" picker-field",i={field:this,$field:o(this),labelText:o("label[for="+d.jqEscape(s.id)+"]").clone().find(".datepicker-format, .error").remove().end().text()},n=m(s.getAttribute("min")),r=m(s.getAttribute("max")),n&&(i.minDate=n),r&&(i.maxDate=r),s.state=o.extend(c,w,i),(l=g>=c.minDate&&g<=c.maxDate?g:c.minDate>g?c.minDate:c.maxDate)&&(c.year=l.getFullYear(),c.month=l.getMonth()),y.call(s),u||v(s),t&&x(s),d.ready(o(s),h)}}),l.on("focusout focusin","#"+i+" .wb-clndr",function(e){switch(e.type){case"focusout":a=setTimeout(s,10);break;case"focusin":clearTimeout(a)}}),l.on("keydown","#"+i,function(e){27===e.which&&s()}),l.on("click",".picker-overlay .cal-days a",function(e){var t=e.which,a=u.field;if(!(t&&1!==t||a.disabled||a.readOnly))return a.value=o(e.currentTarget).find("time").attr("datetime"),o(a).trigger("change"),s(),!1}),l.on("click",".picker-toggle",function(e){e.preventDefault();var t,a,i=e.which;if(!(i&&1!==i||(t=e.currentTarget.id,(a=o("#"+d.jqEscape(t.substring(0,t.indexOf(n)))).get(0)).disabled||a.readOnly)))return function(e){"false"!==r.attr("aria-hidden")?c(e):s()}(a),!1}),l.on("click",".picker-close",function(e){var t=e.which;t&&1!==t||(e.stopPropagation?e.stopImmediatePropagation():e.cancelBubble=!0,s())}),l.on("txt-rsz.wb win-rsz-width.wb win-rsz-height.wb",function(){r&&r.hasClass("open")&&k()}),d.add(b)}(jQuery,window,document,wb);
//# sourceMappingURL=datepicker.min.js.map