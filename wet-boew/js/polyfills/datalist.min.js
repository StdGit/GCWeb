/*!
 * Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 * v4.0.32-development - 2019-10-30
 *
 */
!function(u,e,c,n){"use strict";function o(e,t){var a,i=u(e.nextSibling.firstChild),n=i.next().children().clone();t&&0!==t.length&&(a=t.toLowerCase(),n=n.filter(function(){var e=u(this),t=e.find("span.al-val").html();return 0===t.length&&(t=e.find("span.al-lbl").html()),0===a.length||0===t.toLowerCase().indexOf(a)})),i.empty().append(n),0!==n.length?(p(e),i.removeClass("hide").attr("aria-hidden","false"),e.setAttribute("aria-expanded","true")):(i.addClass("hide").attr("aria-hidden","true"),e.setAttribute("aria-expanded","false"))}function g(e){var t=e.nextSibling.firstChild;t.className+=" hide",t.innerHTML="",t.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-activedescendent","")}var r="wb-datalist",d="input[list]",b="setfocus.wb",f=!1,h=n.doc,l=function(e){var t,a,i,n,r=u(e),l="<div class='wb-al-cnt'><ul role='listbox' id='wb-al-"+e.id+"' class='wb-al hide' aria-hidden='true' aria-live='polite'></ul>",s=c.getElementById(e.getAttribute("list")).getElementsByTagName("option"),d=s.length;for(l+="<ul class='wb-al-src hide' aria-hidden='true'>",n=0;n!==d;n+=1)a=(t=s[n]).getAttribute("value"),i=t.getAttribute("label"),a=a||t.innerHTML,l+="<li id='al-opt-"+e.id+"-"+n+"'><a href='javascript:;' tabindex='-1'><span class='al-val'>"+(a||"")+"</span><span class='al-lbl'>"+(i&&i!==a?i:"")+"</span></a></li>";r.after(l+"</ul></div>")},p=function(e){var t=u(e);u(e.nextSibling.firstChild).css({width:t.outerWidth(),left:t.position().left})};h.on("timerpoke.wb wb-init.wb-datalist wb-update.wb-datalist keydown click vclick touchstart",d,function(e){var t=e.target,a=e.type,i=e.which;switch(a){case"timerpoke":case"wb-init":!function(e){var t=n.init(e,r,d);t&&(t.setAttribute("autocomplete","off"),t.setAttribute("role","textbox"),t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-owns","wb-al-"+t.id),t.setAttribute("aria-activedescendent",""),l(t),n.ready(u(t),r),f=!0)}(e);break;case"wb-update":e.namespace===r&&l(e.target);break;case"keydown":if(!e.ctrlKey&&!e.metaKey)return function(e,t){var a,i,n,r,l=t.target,s=l.nextSibling.firstChild,d=-1!==s.className.indexOf("hide");if(!(t.ctrlKey||t.altKey||t.metaKey))if(32===e||47<e&&e<91||95<e&&e<112||159<e&&e<177||187<e&&e<223)t.altKey||o(l,l.value+String.fromCharCode(e));else if(8!==e||t.altKey){if((38===e||40===e)&&""===l.getAttribute("aria-activedescendent"))return d&&o(l),i=(a=s.getElementsByTagName("a"))[38===e?a.length-1:0],l.setAttribute("aria-activedescendent",i.parentNode.getAttribute("id")),u(i).trigger(b),!1;d||9!==e&&27!==e&&(27!==e||t.altKey)||g(l)}else 0!==(r=(n=l.value).length)&&o(l,n.substring(0,r-1))}(i,e);break;case"click":case"vclick":case"touchstart":f&&(i&&1!==i||(-1===t.nextSibling.firstChild.className.indexOf("hide")?g(t):o(t,t.value)))}return!0}),h.on("keydown click vclick touchstart",".wb-al a, .wb-al span",function(e){var t=e.target,a=e.type,i=e.which;switch(a){case"keydown":if(!e.ctrlKey&&!e.metaKey)return function(e,t){var a,i,n,r,l,s=t.parentNode.parentNode,d=s.parentNode.previousSibling,c=u(d);if(!(event.ctrlKey||event.altKey||event.metaKey)){if(32===e||47<e&&e<91||95<e&&e<112||159<e&&e<177||187<e&&e<223)return d.value+=String.fromCharCode(e),c.trigger(b),o(d,d.value),!1;if(8===e)return 0!==(r=(n=d.value).length)&&(d.value=n.substring(0,r-1),o(d,d.value)),c.trigger(b),!1;if(13===e)return 0===(n=(a=t.getElementsByTagName("span"))[0].innerHTML).length&&(n=a[1].innerHTML),d.value=n,c.trigger(b),g(d),!1;if(9===e||27===e)return c.trigger(b),g(d),!1;if(38===e||40===e)return i=(i=38===e?(i=t.parentNode.previousSibling)||(l=s.getElementsByTagName("li"))[l.length-1]:(i=t.parentNode.nextSibling)||s.getElementsByTagName("li")[0]).getElementsByTagName("a")[0],d.setAttribute("aria-activedescendent",i.parentNode.getAttribute("id")),u(i).trigger(b),!1}}(i,t);break;case"click":case"vclick":case"touchstart":if(!i||1===i)return function(e){var t="a"===e.nodeName.toLowerCase()?e:e.parentNode,a=t.parentNode.parentNode.parentNode.previousSibling,i=u(a),n=t.getElementsByTagName("span"),r=n[0].innerHTML;return 0===r.length&&(r=n[1].innerHTML),a.value=r,i.trigger(b),g(a),!1}(t)}}),h.on("focusin txt-rsz.wb win-rsz-width.wb win-rsz-height.wb",function(e){var t,a,i,n,r,l="focusin"===e.type,s=e.target;if(f)for(r=(t=h.find(d).get()).length,n=0;n!==r;n+=1)a=t[n],l?-1!==(i=a.nextElementSibling||u(a).next().get(0)).firstChild.className.indexOf("hide")||s===i||u.contains(i,s)||g(a):p(a)}),n.add(d)}(jQuery,window,document,wb);
//# sourceMappingURL=datalist.min.js.map