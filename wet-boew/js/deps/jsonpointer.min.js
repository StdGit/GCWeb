(function(){"use strict";var u=[["/","~1"],["~","~0"]],N="/",n="JSON Pointer: ",_=/(\/[^\/]*)+/,f={HYPHEN_IS_NOT_SUPPORTED_IN_ARRAY_CONTEXT:'Implementation does not support "-" token for arrays.',INVALID_DOCUMENT:"JSON document is not valid.",INVALID_DOCUMENT_TYPE:"JSON document must be a string or object.",INVALID_POINTER:"Pointer is not valid.",NON_NUMBER_TOKEN_IN_ARRAY_CONTEXT:"Non-number tokens cannot be used in array context.",TOKEN_WITH_LEADING_ZERO_IN_ARRAY_CONTEXT:"Token with leading zero cannot be used in array context."};function c(t,n){if(n=function(t){for(var n,r,e,o,i=t,N=0;N<u.length;N++)n=(e=u[N])[0],r=e[1],o=new RegExp(r,"g"),i=i.replace(o,n);return i}(n),function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}(t)){if("-"===n)throw a(f.HYPHEN_IS_NOT_SUPPORTED_IN_ARRAY_CONTEXT);if(!function(t){return!isNaN(Number(t))}(n))throw a(f.NON_NUMBER_TOKEN_IN_ARRAY_CONTEXT);if(1<n.length&&"0"===n[0])throw a(f.TOKEN_WITH_LEADING_ZERO_IN_ARRAY_CONTEXT);return t[n]}if(e(t))return t[n]}function a(t){return new Error(n+t)}function e(t){return"object"==typeof t&&null!==t}function T(t){return"string"==typeof t||t instanceof String}function s(t){return void 0===t}var t={get:function(t,n){if(T(t))try{t=JSON.parse(t)}catch(t){throw a(f.INVALID_DOCUMENT)}else if(!e(t))throw a(f.INVALID_DOCUMENT_TYPE);var r=function(o){var i={};return function(t){if(!function(t){return!!T(t)&&(""===t||_.test(t))}(t))throw a(f.INVALID_POINTER);if(i.hasOwnProperty(t))return i[t];for(var n,r=function(t){var n=t.split(N).reverse();return n.pop(),n}(t),e=o;!s(e)&&!s(n=r.pop());)e=c(e,n);return i[t]=e}}(t);return s(n)?r:r(n)}};"object"==typeof exports?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):this.jsonpointer=t}).call(function(){"use strict";return"undefined"!=typeof window?window:this}());